generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("PRISMA_DATABASE_URL")
  directUrl = env("POSTGRES_URL")
}

model Journey {
  id        String   @id @default(cuid())
  startDate String
  totalDays Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  days      Day[]

  @@map("journeys")
}

model Day {
  id                String  @id @default(cuid())
  journeyId         String
  dayNumber         Int
  isCompleted       Boolean @default(false)
  reflection        String?
  reflectionCharles String?
  reflectionWelder  String?
  difficulty        String?
  completedAt       String?
  journey           Journey @relation(fields: [journeyId], references: [id], onDelete: Cascade)

  @@unique([journeyId, dayNumber])
  @@map("days")
}
